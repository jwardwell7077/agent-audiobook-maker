{
  "id": "abm.voice",
  "path_globs": [
    "src/abm/voice/**/*.py"
  ],
  "purpose": "Auto-generated module summary.",
  "key_components": [
    {
      "name": "PiperEngine",
      "kind": "class",
      "file": "src/abm/voice/engines/piper_engine.py",
      "summary": ""
    },
    {
      "name": "XTTSEngine",
      "kind": "class",
      "file": "src/abm/voice/engines/xtts_engine.py",
      "summary": ""
    },
    {
      "name": "AuditionLine",
      "kind": "class",
      "file": "src/abm/voice/piper_casting.py",
      "summary": ""
    },
    {
      "name": "PiperVoice",
      "kind": "class",
      "file": "src/abm/voice/piper_catalog.py",
      "summary": ""
    },
    {
      "name": "_Options",
      "kind": "class",
      "file": "src/abm/voice/plan_from_annotations.py",
      "summary": ""
    },
    {
      "name": "CastDecision",
      "kind": "class",
      "file": "src/abm/voice/tts_casting.py",
      "summary": ""
    },
    {
      "name": "VoiceHints",
      "kind": "class",
      "file": "src/abm/voice/voicecasting.py",
      "summary": ""
    },
    {
      "name": "SpeakerProfile",
      "kind": "class",
      "file": "src/abm/voice/voicecasting.py",
      "summary": ""
    },
    {
      "name": "CastingPlan",
      "kind": "class",
      "file": "src/abm/voice/voicecasting.py",
      "summary": ""
    },
    {
      "name": "VoiceCasting",
      "kind": "class",
      "file": "src/abm/voice/voicecasting.py",
      "summary": ""
    }
  ],
  "public_surfaces": [
    {
      "symbol": "make_cache_key",
      "signature": "(payload)",
      "summary": ""
    },
    {
      "symbol": "cache_path",
      "signature": "(root, engine, voice, key)",
      "summary": ""
    },
    {
      "symbol": "propose_casting",
      "signature": "(profiles_path, annotations_path, out_dir, engine, max_chars)",
      "summary": ""
    },
    {
      "symbol": "main",
      "signature": "(argv)",
      "summary": ""
    },
    {
      "symbol": "discover_piper_voices",
      "signature": "(voices_dir)",
      "summary": ""
    },
    {
      "symbol": "main",
      "signature": "(argv)",
      "summary": ""
    },
    {
      "symbol": "build_plans",
      "signature": "(combined_json, cast_profiles, out_dir, sample_rate, crossfade_ms, max_chars, pause_narr, pause_dialog, pause_thought, prefer_engine)",
      "summary": ""
    },
    {
      "symbol": "main",
      "signature": "(argv)",
      "summary": ""
    },
    {
      "symbol": "render_chapter",
      "signature": "(plan_path, out_wav, cache_dir, tmp_dir, force)",
      "summary": ""
    },
    {
      "symbol": "main",
      "signature": "(argv)",
      "summary": ""
    },
    {
      "symbol": "merge_style",
      "signature": "(base, override)",
      "summary": ""
    },
    {
      "symbol": "pick_voice",
      "signature": "(cfg, speaker_name, preferred_engine)",
      "summary": ""
    },
    {
      "symbol": "main",
      "signature": "()",
      "summary": ""
    }
  ],
  "data_flow": "Unknown",
  "dependencies": {
    "imports_internal": [
      "abm.audio.concat",
      "abm.audio.qc",
      "abm.profiles",
      "abm.voice",
      "abm.voice.cache",
      "abm.voice.engines",
      "abm.voice.engines.piper_engine",
      "abm.voice.engines.xtts_engine",
      "abm.voice.piper_catalog",
      "abm.voice.tts_casting",
      "abm.voice.voicecasting"
    ],
    "imports_external": [
      "__future__",
      "argparse",
      "collections",
      "dataclasses",
      "hashlib",
      "json",
      "numpy",
      "os",
      "pathlib",
      "re",
      "scipy",
      "shutil",
      "soundfile",
      "subprocess",
      "tempfile",
      "typing",
      "yaml"
    ]
  },
  "configs_env": {
    "env_vars": [],
    "config_files": []
  },
  "cli_entrypoints": [
    {
      "file": "src/abm/voice/piper_casting.py",
      "module": "abm.voice.piper_casting",
      "command": "python -m abm.voice.piper_casting",
      "flags": [
        {
          "name": "--profiles",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--annotations",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--out",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--engine",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--max-chars",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--profiles",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--annotations",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--out",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--engine",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--max-chars",
          "type": "unknown",
          "default": null
        }
      ],
      "examples": [
        "python -m abm.voice.piper_casting"
      ]
    },
    {
      "file": "src/abm/voice/piper_catalog.py",
      "module": "abm.voice.piper_catalog",
      "command": "python -m abm.voice.piper_catalog",
      "flags": [
        {
          "name": "--voices-dir",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--json",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--voices-dir",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--json",
          "type": "unknown",
          "default": null
        }
      ],
      "examples": [
        "python -m abm.voice.piper_catalog"
      ]
    },
    {
      "file": "src/abm/voice/voicecasting_cli.py",
      "module": "abm.voice.voicecasting_cli",
      "command": "python -m abm.voice.voicecasting_cli",
      "flags": [
        {
          "name": "--combined",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--out-profiles",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--out-cast",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--top-k",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--minor-pool",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--verbose",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--combined",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--out-profiles",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--out-cast",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--top-k",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--minor-pool",
          "type": "unknown",
          "default": null
        },
        {
          "name": "--verbose",
          "type": "unknown",
          "default": null
        }
      ],
      "examples": [
        "python -m abm.voice.voicecasting_cli"
      ]
    }
  ],
  "invariants": [],
  "edge_cases": [],
  "known_gotchas": [],
  "related_tests": [],
  "status": {
    "maturity": "alpha",
    "owners": [],
    "last_touched_file_mtime": "2025-09-14T22:02:34.133455"
  }
}