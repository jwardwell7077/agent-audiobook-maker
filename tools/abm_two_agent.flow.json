{
    "name": "ABM Two-Agent Chapter Pipeline",
    "description": "ABMChapterLoader → BlockIterator → DialogueClassifier → SpeakerAttribution → ResultsAggregator",
    "nodes": [
        {
            "id": "loader_1",
            "type": "custom",
            "module": "abm.lf_components.audiobook.abm_chapter_loader",
            "class_name": "ABMChapterLoader",
            "data": {
                "book_name": "SAMPLE_BOOK",
                "base_data_dir": "data/clean",
                "chapter_index": 1,
                "context_sentences": 2
            },
            "position": {
                "x": 80,
                "y": 120
            }
        },
        {
            "id": "iterator_1",
            "type": "custom",
            "module": "abm.lf_components.audiobook.abm_block_iterator",
            "class_name": "ABMBlockIterator",
            "data": {
                "batch_size": 10,
                "start_block": 1,
                "max_blocks": 0,
                "dialogue_priority": true
            },
            "position": {
                "x": 460,
                "y": 120
            }
        },
        {
            "id": "classifier_1",
            "type": "custom",
            "module": "abm.lf_components.audiobook.abm_dialogue_classifier",
            "class_name": "ABMDialogueClassifier",
            "data": {
                "classification_method": "hybrid",
                "disable_llm": true,
                "confidence_threshold": 0.8
            },
            "position": {
                "x": 820,
                "y": 120
            }
        },
        {
            "id": "attribution_1",
            "type": "custom",
            "module": "abm.lf_components.audiobook.abm_speaker_attribution",
            "class_name": "ABMSpeakerAttribution",
            "data": {
                "base_confidence": 0.75,
                "unknown_confidence": 0.35
            },
            "position": {
                "x": 1160,
                "y": 120
            }
        },
        {
            "id": "aggregator_1",
            "type": "custom",
            "module": "abm.lf_components.audiobook.abm_results_aggregator",
            "class_name": "ABMResultsAggregator",
            "data": {
                "min_confidence_threshold": 0.3,
                "include_metadata": true,
                "validate_results": true
            },
            "position": {
                "x": 1510,
                "y": 120
            }
        },
        {
            "id": "chat_output_1",
            "type": "ChatOutput",
            "data": {},
            "position": {
                "x": 1840,
                "y": 120
            }
        }
    ],
    "edges": [
        {
            "id": "e1",
            "source": "loader_1",
            "sourceHandle": "blocks_data",
            "target": "iterator_1",
            "targetHandle": "blocks_data"
        },
        {
            "id": "e2",
            "source": "iterator_1",
            "sourceHandle": "current_utterance",
            "target": "classifier_1",
            "targetHandle": "utterance_data"
        },
        {
            "id": "e3",
            "source": "classifier_1",
            "sourceHandle": "classified_utterance",
            "target": "attribution_1",
            "targetHandle": "classified_utterance"
        },
        {
            "id": "e4",
            "source": "attribution_1",
            "sourceHandle": "attributed_utterance",
            "target": "aggregator_1",
            "targetHandle": "attribution_result"
        },
        {
            "id": "e5",
            "source": "aggregator_1",
            "sourceHandle": "aggregated_results",
            "target": "chat_output_1",
            "targetHandle": "input"
        }
    ]
}